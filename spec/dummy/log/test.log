  [1m[36mSQL (17.2ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (17.4ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.0ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811055958)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (18.5ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (42.0ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811055958)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (1.0ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (36.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811055958)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (1.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (38.4ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811055958)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (0.8ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (38.9ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (43.6ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811055958)
  [1m[35mSQL (3.4ms)[0m  CREATE TABLE `resources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `url` varchar(255) NOT NULL, `content_type` varchar(255), `notes` text, `author` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `resources`[0m
  [1m[35mSQL (16.0ms)[0m  CREATE INDEX `index_resources_on_url` ON `resources` (`url`)
  [1m[36mSQL (3.0ms)[0m  [1mCREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `description` varchar(255), `parent_id` int(11), `lft` int(11), `rgt` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (20.1ms)[0m  [1mCREATE INDEX `index_categories_on_name` ON `categories` (`name`)[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (15.6ms)[0m  [1mCREATE INDEX `index_categories_on_parent_id` ON `categories` (`parent_id`)[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (14.8ms)[0m  [1mCREATE INDEX `index_categories_on_lft` ON `categories` (`lft`)[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (6.2ms)[0m  [1mCREATE INDEX `index_categories_on_rgt` ON `categories` (`rgt`)[0m
  [1m[35mSQL (3.0ms)[0m  CREATE TABLE `posts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) NOT NULL, `subtitle` varchar(255), `body` text NOT NULL, `postable_id` int(11), `postable_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `posts`[0m
  [1m[35mSQL (5.9ms)[0m  CREATE INDEX `index_posts_on_title` ON `posts` (`title`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `posts`[0m
  [1m[35mSQL (6.6ms)[0m  CREATE INDEX `index_posts_on_postable_id` ON `posts` (`postable_id`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `posts`[0m
  [1m[35mSQL (6.4ms)[0m  CREATE INDEX `index_posts_on_postable_type` ON `posts` (`postable_type`)
  [1m[36mSQL (2.2ms)[0m  [1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `body` text NOT NULL, `name` varchar(255), `title` varchar(255), `parent_id` int(11), `lft` int(11), `rgt` int(11), `commentable_id` int(11), `commentable_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (5.2ms)[0m  [1mCREATE INDEX `index_comments_on_parent_id` ON `comments` (`parent_id`)[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (5.9ms)[0m  [1mCREATE INDEX `index_comments_on_lft` ON `comments` (`lft`)[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (7.7ms)[0m  [1mCREATE INDEX `index_comments_on_rgt` ON `comments` (`rgt`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (9.5ms)[0m  [1mCREATE INDEX `index_comments_on_commentable_id` ON `comments` (`commentable_id`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (8.2ms)[0m  [1mCREATE INDEX `index_comments_on_commentable_type` ON `comments` (`commentable_type`)[0m
  [1m[35mSQL (1.4ms)[0m  describe `schema_migrations`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100811055958')[0m
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mCategory Load (1.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (37.8ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (7.5ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811055958)
  [1m[35mSQL (3.5ms)[0m  CREATE TABLE `resources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `url` varchar(255) NOT NULL, `content_type` varchar(255), `notes` text, `author` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `resources`[0m
  [1m[35mSQL (6.9ms)[0m  CREATE INDEX `index_resources_on_url` ON `resources` (`url`)
  [1m[36mSQL (3.2ms)[0m  [1mCREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `description` varchar(255), `parent_id` int(11), `lft` int(11), `rgt` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (7.6ms)[0m  [1mCREATE INDEX `index_categories_on_name` ON `categories` (`name`)[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (8.1ms)[0m  [1mCREATE INDEX `index_categories_on_parent_id` ON `categories` (`parent_id`)[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (7.7ms)[0m  [1mCREATE INDEX `index_categories_on_lft` ON `categories` (`lft`)[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (31.0ms)[0m  [1mCREATE INDEX `index_categories_on_rgt` ON `categories` (`rgt`)[0m
  [1m[35mSQL (12.9ms)[0m  CREATE TABLE `posts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) NOT NULL, `subtitle` varchar(255), `body` text NOT NULL, `postable_id` int(11), `postable_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `posts`[0m
  [1m[35mSQL (8.1ms)[0m  CREATE INDEX `index_posts_on_title` ON `posts` (`title`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `posts`[0m
  [1m[35mSQL (6.6ms)[0m  CREATE INDEX `index_posts_on_postable_id` ON `posts` (`postable_id`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `posts`[0m
  [1m[35mSQL (6.3ms)[0m  CREATE INDEX `index_posts_on_postable_type` ON `posts` (`postable_type`)
  [1m[36mSQL (2.2ms)[0m  [1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `body` text NOT NULL, `name` varchar(255), `title` varchar(255), `parent_id` int(11), `lft` int(11), `rgt` int(11), `commentable_id` int(11), `commentable_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (5.7ms)[0m  [1mCREATE INDEX `index_comments_on_parent_id` ON `comments` (`parent_id`)[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (5.7ms)[0m  [1mCREATE INDEX `index_comments_on_lft` ON `comments` (`lft`)[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (9.1ms)[0m  [1mCREATE INDEX `index_comments_on_rgt` ON `comments` (`rgt`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (6.8ms)[0m  [1mCREATE INDEX `index_comments_on_commentable_id` ON `comments` (`commentable_id`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (9.1ms)[0m  [1mCREATE INDEX `index_comments_on_commentable_type` ON `comments` (`commentable_type`)[0m
  [1m[35mSQL (1.6ms)[0m  describe `schema_migrations`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100811055958')[0m
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (42.6ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (7.4ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (4.5ms)[0m  CREATE TABLE `resources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `url` varchar(255) NOT NULL, `content_type` varchar(255), `notes` text, `author` varchar(255), `language` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `resources`[0m
  [1m[35mSQL (6.9ms)[0m  CREATE INDEX `index_resources_on_url` ON `resources` (`url`)
  [1m[36mSQL (2.8ms)[0m  [1mCREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `description` varchar(255), `parent_id` int(11), `lft` int(11), `rgt` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (6.3ms)[0m  [1mCREATE INDEX `index_categories_on_name` ON `categories` (`name`)[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (7.8ms)[0m  [1mCREATE INDEX `index_categories_on_parent_id` ON `categories` (`parent_id`)[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (6.5ms)[0m  [1mCREATE INDEX `index_categories_on_lft` ON `categories` (`lft`)[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (40.7ms)[0m  [1mCREATE INDEX `index_categories_on_rgt` ON `categories` (`rgt`)[0m
  [1m[35mSQL (10.0ms)[0m  CREATE TABLE `posts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) NOT NULL, `subtitle` varchar(255), `body` text NOT NULL, `postable_id` int(11), `postable_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `posts`[0m
  [1m[35mSQL (17.6ms)[0m  CREATE INDEX `index_posts_on_title` ON `posts` (`title`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `posts`[0m
  [1m[35mSQL (16.5ms)[0m  CREATE INDEX `index_posts_on_postable_id` ON `posts` (`postable_id`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `posts`[0m
  [1m[35mSQL (6.1ms)[0m  CREATE INDEX `index_posts_on_postable_type` ON `posts` (`postable_type`)
  [1m[36mSQL (2.1ms)[0m  [1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `body` text NOT NULL, `name` varchar(255), `title` varchar(255), `parent_id` int(11), `lft` int(11), `rgt` int(11), `commentable_id` int(11), `commentable_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (5.3ms)[0m  [1mCREATE INDEX `index_comments_on_parent_id` ON `comments` (`parent_id`)[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (5.5ms)[0m  [1mCREATE INDEX `index_comments_on_lft` ON `comments` (`lft`)[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (6.8ms)[0m  [1mCREATE INDEX `index_comments_on_rgt` ON `comments` (`rgt`)[0m
  [1m[35mSQL (1.0ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (6.8ms)[0m  [1mCREATE INDEX `index_comments_on_commentable_id` ON `comments` (`commentable_id`)[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `comments`
  [1m[36mSQL (6.2ms)[0m  [1mCREATE INDEX `index_comments_on_commentable_type` ON `comments` (`commentable_type`)[0m
  [1m[35mSQL (2.0ms)[0m  describe `schema_migrations`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100811063207')[0m
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (3.7ms)[0m  describe `resources`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 06:32:20', 'description', 'english', 'notes', 'title', '2010-08-11 06:32:20', 'http://www.url.com')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (42.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (1.0ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (1.9ms)[0m  describe `categories`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 06:36:37', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 06:36:37')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  describe `resources`
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 06:36:37', 'description', 'english', 'notes', 'title', '2010-08-11 06:36:37', 'http://www.url.com')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (40.8ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (0.7ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (1.7ms)[0m  describe `categories`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 06:56:39', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 06:56:39')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  describe `resources`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 06:56:39', 'description', 'english', 'notes', 'title', '2010-08-11 06:56:39', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (42.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `resources`[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 06:58:29', 'description', 'english', 'notes', 'title', '2010-08-11 06:58:29', 'http://www.url.com')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (1.0ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  describe `resources`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:08:07', 'description', 'english', 'notes', 'title', '2010-08-11 07:08:07', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:12:23', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:12:23')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.3ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.2ms)[0m  [1mdescribe `resources`[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:12:23', 'description', 'english', 'notes', 'title', '2010-08-11 07:12:23', 'http://www.url.com')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (37.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:13:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:13:30')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:13:30', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:13:30')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.7ms)[0m  describe `resources`
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:13:30', 'description', 'english', 'notes', 'title', '2010-08-11 07:13:30', 'http://www.url.com')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (42.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.3ms)[0m  BEGIN
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (41.8ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (1.0ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  describe `resources`
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:27:26', 'description', 'english', 'notes', 'title', '2010-08-11 07:27:26', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (39.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (1.0ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 1) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  describe `resources`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:32:00', 'description', 'english', 'notes', 'title', '2010-08-11 07:32:00', 'http://www.url.com')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (1.0ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  describe `resources`
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:35:25', 'description', 'english', 'notes', 'title', '2010-08-11 07:35:25', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.8ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (1.0ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (1.7ms)[0m  describe `categories`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `id`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:37:47', 'A top level category to hold all sub-categories of Science.', 1, 1, 'Science', 0, 2, '2010-08-11 07:37:47')[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 0) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.3ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `id`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:37:47', 'A top level category to hold all sub-categories of Science.', 1, 1, 'Science', 0, 2, '2010-08-11 07:37:47')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 0) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `id`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:37:47', 'A top level category to hold all sub-categories of Science.', 1, 1, 'Science', 0, 2, '2010-08-11 07:37:47')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 0) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `id`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:37:47', 'A top level category to hold all sub-categories of Science.', 1, 1, 'Science', 0, 2, '2010-08-11 07:37:47')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 0) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `id`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:37:47', 'A top level category to hold all sub-categories of Science.', 1, 1, 'Science', 0, 2, '2010-08-11 07:37:47')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 0) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `id`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:37:47', 'A top level category to hold all sub-categories of Science.', 1, 1, 'Science', 0, 2, '2010-08-11 07:37:47')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 0) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.1ms)[0m  [1mdescribe `resources`[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:37:47', 'description', 'english', 'notes', 'title', '2010-08-11 07:37:47', 'http://www.url.com')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (40.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (1.0ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (1.6ms)[0m  describe `categories`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:39:42', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:39:42')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 6) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  describe `resources`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:39:42', 'description', 'english', 'notes', 'title', '2010-08-11 07:39:42', 'http://www.url.com')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (42.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (1.0ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (1.7ms)[0m  describe `categories`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:40:48', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:40:48')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 7) LIMIT 1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:40:48', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:40:48')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (3.3ms)[0m  [1mdescribe `resources`[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:40:48', 'description', 'english', 'notes', 'title', '2010-08-11 07:40:48', 'http://www.url.com')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[35mCategory Load (110.5ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (91.6ms)[0m  BEGIN
  [1m[36mSQL (17.0ms)[0m  [1mdescribe `resources`[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:41:33', 'description', 'english', 'notes', 'title', '2010-08-11 07:41:33', 'http://www.url.com')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.3ms)[0m  BEGIN
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (2.1ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:47:38', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:47:38')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:47:38', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:47:38')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 9) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 10) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 10 THEN 9 ELSE `parent_id` END 
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 9) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 10) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  describe `resources`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:47:38', 'description', 'english', 'notes', 'title', '2010-08-11 07:47:38', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (35.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:48:24', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:48:24')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:48:24', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:48:24')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 11) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 12 THEN 11 ELSE `parent_id` END 
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 11) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (34.4ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (39.4ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:50:31', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:50:31')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:50:31', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:50:31')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 13) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 14) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 14 THEN 13 ELSE `parent_id` END 
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 13) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 14) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:50:31', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 07:50:31')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 13) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 15) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 15 THEN 13 ELSE `parent_id` END 
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 13) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 15) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.8ms)[0m  [1mdescribe `resources`[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:50:31', 'description', 'english', 'notes', 'title', '2010-08-11 07:50:31', 'http://www.url.com')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (41.9ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (35.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:17', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:17')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 16) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:17', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:17')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:17', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:17')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:17', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:54:17')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 18) ORDER BY `lft` LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 19) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 19 THEN 18 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 18) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 19) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:17', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:17')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:17', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:54:17')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 20) ORDER BY `lft` LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 21) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 21 THEN 20 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 20) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 21) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:17', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:17')[0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:17', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:54:17')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 22) ORDER BY `lft` LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 23) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 23 THEN 22 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 22) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 23) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:17', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:17')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:17', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:54:17')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 24) ORDER BY `lft` LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 25) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 25 THEN 24 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 24) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 25) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  describe `resources`
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:54:17', 'description', 'english', 'notes', 'title', '2010-08-11 07:54:17', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (42.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:30')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 26) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:30')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:30')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:30', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:54:30')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 28) ORDER BY `lft` LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 29) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 29 THEN 28 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 28) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 29) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:30')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:30', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:54:30')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 30) ORDER BY `lft` LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 31) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 31 THEN 30 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 30) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 31) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:30')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:30', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:54:30')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 32) ORDER BY `lft` LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 33) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 33 THEN 32 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 32) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 33) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:54:30')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:54:30', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:54:30')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 34) ORDER BY `lft` LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 35) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 35 THEN 34 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 34) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 35) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.0ms)[0m  describe `resources`
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:54:30', 'description', 'english', 'notes', 'title', '2010-08-11 07:54:30', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (40.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:57:57', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:57:57')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 36) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:57:57', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:57:57')[0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:57:57', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:57:57')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:57:57', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:57:57')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 38) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 39) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 39 THEN 38 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 38) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 39) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:57:57', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:57:57')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:57:57', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:57:57')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 40) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 41) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 41 THEN 40 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 40) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 41) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:57:57', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:57:57')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:57:57', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:57:57')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 42) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 43) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 43 THEN 42 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 42) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 43) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:57:57', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:57:57')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:57:57', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:57:57')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 44) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 45) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 45 THEN 44 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 44) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 45) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  describe `resources`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:57:57', 'description', 'english', 'notes', 'title', '2010-08-11 07:57:57', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (1.0ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:58:30')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 46) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:58:30')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:58:30')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:58:30')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 48) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 49) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 49 THEN 48 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 48) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 49) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 07:58:30')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 48) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 50) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 50 THEN 48 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 48) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 50) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 48) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:58:30')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:58:30')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 51) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 52) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 52 THEN 51 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 51) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 52) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 07:58:30')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 51) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 53) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 53 THEN 51 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 51) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 53) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 51) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 51)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:58:30')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:58:30')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 54) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 55) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 55 THEN 54 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 54) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 55) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 07:58:30')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 54) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 56) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 56 THEN 54 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 54) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 56) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 54) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 54) ORDER BY `lft`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:58:30')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:58:30')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 57) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 58) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 58 THEN 57 ELSE `parent_id` END [0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 57) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 58) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:58:30', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 07:58:30')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 57) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 59) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 59 THEN 57 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 57) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 59) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 57) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `resources`[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:58:30', 'description', 'english', 'notes', 'title', '2010-08-11 07:58:30', 'http://www.url.com')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (42.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (2.6ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:59:06')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 60) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:59:06')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:59:06')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:59:06')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 62) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 63) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 63 THEN 62 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 62) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 63) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 07:59:06')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 62) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 64) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 64 THEN 62 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 62) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 64) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 62) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:59:06')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:59:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 65) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 66) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 66 THEN 65 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 65) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 66) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 07:59:06')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 65) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 67) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 67 THEN 65 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 65) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 67) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 65) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 65)
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:59:06')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:59:06')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 68) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 69) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 69 THEN 68 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 68) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 69) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 07:59:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 68) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 70) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 70 THEN 68 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 68) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 70) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 68) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 68) ORDER BY `lft`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 07:59:06')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 07:59:06')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 71) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 72) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 72 THEN 71 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 71) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 72) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 07:59:06', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 07:59:06')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 71) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 73) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 73 THEN 71 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 71) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 73) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 71) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 72)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 72)[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.5ms)[0m  [1mdescribe `resources`[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 07:59:06', 'description', 'english', 'notes', 'title', '2010-08-11 07:59:06', 'http://www.url.com')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (37.8ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (3.3ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:05', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:00:05')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 74) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:05', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:00:05')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:05', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:00:05')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:05', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:00:05')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 76) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 77) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 77 THEN 76 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 76) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 77) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:05', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:00:05')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 76) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 78) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 78 THEN 76 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 76) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 78) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 76) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:05', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:00:05')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:05', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:00:05')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 79) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 80) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 80 THEN 79 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 79) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 80) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:05', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:00:05')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 79) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 81) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 81 THEN 79 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 79) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 81) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 79) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 79)
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:05', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:00:05')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:05', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:00:05')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 82) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 83) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 83 THEN 82 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 82) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 83) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:05', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:00:05')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 82) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 84) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 84 THEN 82 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 82) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 84) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 82) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 82) ORDER BY `lft`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:00:06')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:06', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:00:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 85) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 86) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 86 THEN 85 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 85) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 86) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:06', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:00:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 85) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 87) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 87 THEN 85 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 85) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 87) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 85) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 86) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:06', 'The physics of gravity.', 7, 'Gravity', 86, 8, '2010-08-11 08:00:06')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 86) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 88) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 88 THEN 86 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 86) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 88) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 86) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:00:06', 'The physics of thermodynamics.', 9, 'Thermodynamics', 86, 10, '2010-08-11 08:00:06')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 86) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 89) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 89 THEN 86 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 86) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 89) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 86)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 86)[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 86)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 85)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 85) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.7ms)[0m  describe `resources`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 08:00:06', 'description', 'english', 'notes', 'title', '2010-08-11 08:00:06', 'http://www.url.com')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (41.8ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:09:52')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 90) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:09:52')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:09:52')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:09:52')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 92) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 93) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 93 THEN 92 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 92) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 93) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:09:52')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 92) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 94) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 94 THEN 92 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 92) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 94) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 92) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:09:52')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:09:52')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 95) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 96) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 96 THEN 95 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 95) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 96) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:09:52')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 95) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 97) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 97 THEN 95 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 95) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 97) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 95) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 95)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:09:52')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:09:52')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 98) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 99) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 99 THEN 98 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 98) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 99) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:09:52')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 98) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 100) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 100 THEN 98 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 98) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 100) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 98) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 98) ORDER BY `lft`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:09:52')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:09:52')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 101) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 102) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 102 THEN 101 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 101) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 102) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:52', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:09:52')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 101) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 103) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 103 THEN 101 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 101) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 103) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 101) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 102) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:53', 'The physics of gravity.', 7, 'Gravity', 102, 8, '2010-08-11 08:09:53')[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 102) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 104) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 104 THEN 102 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 102) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 104) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 102) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:09:53', 'The physics of thermodynamics.', 9, 'Thermodynamics', 102, 10, '2010-08-11 08:09:53')[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 102) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 105) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 105 THEN 102 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 102) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 105) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 102)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 102)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 102)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 101)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 101) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  describe `resources`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 08:09:53', 'description', 'english', 'notes', 'title', '2010-08-11 08:09:53', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (36.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:27', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:27')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 106) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:27', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:27')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:27', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:27')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:27', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:10:27')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 108) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 109) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 109 THEN 108 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 108) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 109) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:27', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:10:27')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 108) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 110) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 110 THEN 108 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 108) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 110) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 108) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:28', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:28')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:28', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:10:28')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 111) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 112) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 112 THEN 111 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 111) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 112) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:28', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:10:28')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 111) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 113) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 113 THEN 111 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 111) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 113) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 111) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 111)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:28', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:28')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:28', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:10:28')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 114) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 115) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 115 THEN 114 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 114) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 115) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:28', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:10:28')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 114) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 116) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 116 THEN 114 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 114) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 116) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 114) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 114) ORDER BY `lft`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:28', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:28')[0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:28', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:10:28')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 117) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 118) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 118 THEN 117 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 117) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 118) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:28', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:10:28')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 117) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 119) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 119 THEN 117 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 117) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 119) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 117) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 118) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:28', 'The physics of gravity.', 7, 'Gravity', 118, 8, '2010-08-11 08:10:28')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 118) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 120) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 120 THEN 118 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 118) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 120) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 118) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:28', 'The physics of thermodynamics.', 9, 'Thermodynamics', 118, 10, '2010-08-11 08:10:28')[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 118) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 121) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 121 THEN 118 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 118) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 121) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 118)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 118)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 118)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 117)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 117) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (32.7ms)[0m  describe `resources`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 08:10:28', 'description', 'english', 'notes', 'title', '2010-08-11 08:10:28', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (40.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:50')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 122) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:50')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:50')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:10:50')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 124) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 125) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 125 THEN 124 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 124) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 125) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:10:50')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 124) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 126) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 126 THEN 124 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 124) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 126) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 124) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:50')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:10:50')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 127) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 128) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 128 THEN 127 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 127) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 128) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:10:50')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 127) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 129) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 129 THEN 127 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 127) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 129) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 127) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 127)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:50')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:10:50')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 130) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 131) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 131 THEN 130 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 130) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 131) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:10:50')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 130) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 132) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 132 THEN 130 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 130) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 132) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 130) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 130) ORDER BY `lft`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:10:50')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:10:50')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 133) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 134) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 134 THEN 133 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 133) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 134) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:10:50')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 133) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 135) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 135 THEN 133 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 133) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 135) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 133) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 134) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'The physics of gravity.', 7, 'Gravity', 134, 8, '2010-08-11 08:10:50')[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 134) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 136) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 136 THEN 134 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 134) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 136) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 134) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:10:50', 'The physics of thermodynamics.', 9, 'Thermodynamics', 134, 10, '2010-08-11 08:10:50')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 134) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 137) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 137 THEN 134 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 134) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 137) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 134)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 134)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 134)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 133)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 133) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.8ms)[0m  describe `resources`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 08:10:50', 'description', 'english', 'notes', 'title', '2010-08-11 08:10:50', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (1.0ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:19:09')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 138) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:19:09')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:19:09')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:19:09')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 140) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 141) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 141 THEN 140 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 140) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 141) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:19:09')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 140) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 142) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 142 THEN 140 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 140) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 142) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 140) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:19:09')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:19:09')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 143) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 144) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 144 THEN 143 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 143) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 144) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:19:09')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 143) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 145) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 145 THEN 143 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 143) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 145) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 143) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 143)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:19:09')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:19:09')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 146) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 147) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 147 THEN 146 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 146) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 147) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:19:09')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 146) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 148) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 148 THEN 146 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 146) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 148) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 146) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 146) ORDER BY `lft`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:19:09')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:19:09')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 149) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 150) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 150 THEN 149 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 149) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 150) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:19:09')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 149) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 151) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 151 THEN 149 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 149) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 151) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 149) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 150) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'The physics of gravity.', 7, 'Gravity', 150, 8, '2010-08-11 08:19:09')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 150) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 152) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 152 THEN 150 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 150) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 152) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 150) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:19:09', 'The physics of thermodynamics.', 9, 'Thermodynamics', 150, 10, '2010-08-11 08:19:09')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 150) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 153) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 153 THEN 150 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 150) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 153) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 150)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 150)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 150)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 149)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 149) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  describe `resources`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 08:19:09', 'description', 'english', 'notes', 'title', '2010-08-11 08:19:09', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (38.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:21:19')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 154) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:21:19')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:21:19')[0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:21:19')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 156) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 157) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 157 THEN 156 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 156) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 157) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:21:19')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 156) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 158) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 158 THEN 156 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 156) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 158) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 156) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:21:19')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:21:19')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 159) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 160) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 160 THEN 159 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 159) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 160) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:21:19')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 159) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 161) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 161 THEN 159 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 159) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 161) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 159) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 159)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:21:19')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:21:19')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 162) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 163) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 163 THEN 162 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 162) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 163) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:21:19')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 162) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 164) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 164 THEN 162 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 162) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 164) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 162) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 162) ORDER BY `lft`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:21:19')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:21:19')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 165) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 166) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 166 THEN 165 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 165) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 166) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:21:19')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 165) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 167) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 167 THEN 165 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 165) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 167) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 165) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 166) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'The physics of gravity.', 7, 'Gravity', 166, 8, '2010-08-11 08:21:19')[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 166) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 168) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 168 THEN 166 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 166) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 168) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 166) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:21:19', 'The physics of thermodynamics.', 9, 'Thermodynamics', 166, 10, '2010-08-11 08:21:19')[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 166) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 169) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 169 THEN 166 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 166) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 169) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 166)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 166)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 166)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 165)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 165) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.4ms)[0m  describe `resources`
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 08:21:19', 'description', 'english', 'notes', 'title', '2010-08-11 08:21:19', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:25:22')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 170) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:25:22')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:25:22')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:25:22')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 172) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 173) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 173 THEN 172 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 172) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 173) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:25:22')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 172) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 174) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 174 THEN 172 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 172) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 174) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 172) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:25:22')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:25:22')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 175) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 176) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 176 THEN 175 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 175) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 176) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:25:22')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 175) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 177) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 177 THEN 175 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 175) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 177) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 175) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 175)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:25:22')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:25:22')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 178) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 179) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 179 THEN 178 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 178) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 179) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:25:22')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 178) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 180) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 180 THEN 178 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 178) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 180) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 178) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 178) ORDER BY `lft`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:25:22')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:25:22')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 181) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 182) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 182 THEN 181 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 181) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 182) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:25:22')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 181) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 183) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 183 THEN 181 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 181) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 183) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 181) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 182) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'The physics of gravity.', 7, 'Gravity', 182, 8, '2010-08-11 08:25:22')[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 182) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 184) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 184 THEN 182 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 182) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 184) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 182) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:25:22', 'The physics of thermodynamics.', 9, 'Thermodynamics', 182, 10, '2010-08-11 08:25:22')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 182) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 185) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 185 THEN 182 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 182) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 185) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 182)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 182)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 182)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 181)
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 181) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.0ms)[0m  describe `resources`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 08:25:22', 'description', 'english', 'notes', 'title', '2010-08-11 08:25:22', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (40.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:26:38')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 186) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:26:38')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:26:38')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:26:38')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 188) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 189) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 189 THEN 188 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 188) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 189) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:26:38')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 188) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 190) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 190 THEN 188 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 188) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 190) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 188) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:26:38')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:26:38')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 191) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 192) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 192 THEN 191 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 191) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 192) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:26:38')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 191) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 193) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 193 THEN 191 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 191) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 193) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 191) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 191)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:26:38')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:26:38')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 194) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 195) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 195 THEN 194 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 194) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 195) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:26:38')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 194) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 196) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 196 THEN 194 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 194) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 196) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 194) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 194) ORDER BY `lft`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:26:38')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:26:38')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 197) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 198) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 198 THEN 197 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 197) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 198) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:26:38')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 197) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 199) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 199 THEN 197 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 197) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 199) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 197) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 198) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'The physics of gravity.', 7, 'Gravity', 198, 8, '2010-08-11 08:26:38')[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 198) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 200) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 200 THEN 198 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 198) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 200) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 198) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:26:38', 'The physics of thermodynamics.', 9, 'Thermodynamics', 198, 10, '2010-08-11 08:26:38')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 198) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 201) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 201 THEN 198 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 198) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 201) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 198)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 198)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 198)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 197)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 197) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  describe `resources`
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 08:26:38', 'description', 'english', 'notes', 'title', '2010-08-11 08:26:38', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (37.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:28:02')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 202) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:28:02')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:28:02')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:28:02')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 204) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 205) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 205 THEN 204 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 204) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 205) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:28:02')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 204) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 206) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 206 THEN 204 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 204) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 206) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 204) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:28:02')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:28:02')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 207) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 208) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 208 THEN 207 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 207) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 208) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:28:02')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 207) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 209) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 209 THEN 207 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 207) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 209) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 207) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 207)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:28:02')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:28:02')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 210) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 211) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 211 THEN 210 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 210) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 211) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:28:02')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 210) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 212) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 212 THEN 210 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 210) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 212) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 210) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 210) ORDER BY `lft`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:28:02')[0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:28:02')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 213) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 214) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 214 THEN 213 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 213) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 214) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:28:02')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 213) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 215) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 215 THEN 213 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 213) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 215) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 213) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 214) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'The physics of gravity.', 7, 'Gravity', 214, 8, '2010-08-11 08:28:02')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 214) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 216) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 216 THEN 214 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 214) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 216) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 214) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:28:02', 'The physics of thermodynamics.', 9, 'Thermodynamics', 214, 10, '2010-08-11 08:28:02')[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 214) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 217) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 217 THEN 214 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 214) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 217) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 214)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 214)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 214)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 213)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 213) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  describe `resources`
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 08:28:02', 'description', 'english', 'notes', 'title', '2010-08-11 08:28:02', 'http://www.url.com')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811063207)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.9ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811083909)
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (3.0ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:44:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:44:06')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:44:06')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:44:06')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 3) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 4) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 4 THEN 3 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 3) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 4) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:44:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 3) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 5) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 5 THEN 3 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 3) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 5) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 3) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:44:06')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:44:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 6) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 7) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 7 THEN 6 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 6) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 7) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:44:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 6) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 8) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 8 THEN 6 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 6) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 8) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 6) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 6)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:44:06')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:44:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 9) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 10) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 10 THEN 9 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 9) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 10) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:44:06')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 9) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 11) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 11 THEN 9 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 9) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 11) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 9) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 9) ORDER BY `lft`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 08:44:06')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 08:44:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 13) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 13 THEN 12 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 13) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 08:44:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 14) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 14 THEN 12 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 14) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 13) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'The physics of gravity.', 7, 'Gravity', 13, 8, '2010-08-11 08:44:06')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 13) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 15) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 15 THEN 13 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 13) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 15) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 13) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 08:44:06', 'The physics of thermodynamics.', 9, 'Thermodynamics', 13, 10, '2010-08-11 08:44:06')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 13) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 16) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 16 THEN 13 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 13) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 16) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 13)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 13)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 13)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 12)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 12) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  describe `resources`
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 08:44:06', 'description', 'english', 'notes', 'title', '2010-08-11 08:44:06', 'http://www.url.com')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (0.8ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811083909)
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:38:41')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 17) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:38:41')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:38:41')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:38:41')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 19) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 20) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 20 THEN 19 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 19) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 20) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:38:41')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 19) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 21) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 21 THEN 19 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 19) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 21) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 19) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:38:41')[0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:38:41')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 22) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 23) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 23 THEN 22 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 22) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 23) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:38:41')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 22) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 24) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 24 THEN 22 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 22) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 24) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 22) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 22)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:38:41')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:38:41')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 25) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 26) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 26 THEN 25 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 25) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 26) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:38:41')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 25) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 27) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 27 THEN 25 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 25) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 27) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 25) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 25) ORDER BY `lft`
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:38:41')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:38:41')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 28) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 29) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 29 THEN 28 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 28) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 29) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:38:41')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 28) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 30) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 30 THEN 28 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 28) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 30) LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 28) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 29) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'The physics of gravity.', 7, 'Gravity', 29, 8, '2010-08-11 17:38:41')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 29) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 31) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 31 THEN 29 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 29) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 31) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 29) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:38:41', 'The physics of thermodynamics.', 9, 'Thermodynamics', 29, 10, '2010-08-11 17:38:41')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 29) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 32) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 32 THEN 29 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 29) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 32) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 29)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 29)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 29)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 28)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 28) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  describe `resources`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 17:38:41', 'description', 'english', 'notes', 'title', '2010-08-11 17:38:41', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.8ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811083909)
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:39:02')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 33) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:39:02')[0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:39:02')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:39:02')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 35) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 36) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 36 THEN 35 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 35) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 36) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:39:02')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 35) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 37) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 37 THEN 35 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 35) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 37) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 35) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:39:02')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:39:02')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 38) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 39) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 39 THEN 38 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 38) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 39) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:39:02')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 38) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 40) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 40 THEN 38 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 38) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 40) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 38) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 38)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:39:02')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:39:02')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 41) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 42) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 42 THEN 41 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 41) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 42) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:39:02')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 41) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 43) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 43 THEN 41 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 41) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 43) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 41) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 41) ORDER BY `lft`
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:39:02')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:39:02')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 44) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 45) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 45 THEN 44 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 44) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 45) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:39:02')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 44) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 46) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 46 THEN 44 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 44) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 46) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 44) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 45) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'The physics of gravity.', 7, 'Gravity', 45, 8, '2010-08-11 17:39:02')[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 45) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 47) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 47 THEN 45 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 45) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 47) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 45) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:39:02', 'The physics of thermodynamics.', 9, 'Thermodynamics', 45, 10, '2010-08-11 17:39:02')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 45) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 48) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 48 THEN 45 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 45) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 48) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 45)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 45)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 45)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 44)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 44) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  describe `resources`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 17:39:03', 'description', 'english', 'notes', 'title', '2010-08-11 17:39:03', 'http://www.url.com')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.8ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811083909)
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:05')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 49) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:05')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:05')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:40:05')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 51) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 52) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 52 THEN 51 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 51) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 52) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:40:05')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 51) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 53) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 53 THEN 51 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 51) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 53) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 51) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:05')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:40:05')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 54) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 55) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 55 THEN 54 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 54) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 55) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:40:05')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 54) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 56) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 56 THEN 54 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 54) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 56) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 54) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 54)
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:05')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:40:05')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 57) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 58) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 58 THEN 57 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 57) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 58) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:40:05')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 57) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 59) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 59 THEN 57 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 57) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 59) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 57) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 57) ORDER BY `lft`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:05')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:05', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:40:05')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 60) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 61) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 61 THEN 60 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 60) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 61) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:06', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:40:06')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 60) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 62) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 62 THEN 60 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 60) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 62) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 60) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 61) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:06', 'The physics of gravity.', 7, 'Gravity', 61, 8, '2010-08-11 17:40:06')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 61) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 63) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 63 THEN 61 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 61) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 63) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 61) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:06', 'The physics of thermodynamics.', 9, 'Thermodynamics', 61, 10, '2010-08-11 17:40:06')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 61) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 64) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 64 THEN 61 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 61) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 64) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 61)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 61)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 61)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 60)
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 60) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  describe `resources`
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 17:40:06', 'description', 'english', 'notes', 'title', '2010-08-11 17:40:06', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (41.4ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811083909)
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 65) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:26')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:26')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:40:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 67) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 68) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 68 THEN 67 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 67) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 68) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:40:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 67) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 69) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 69 THEN 67 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 67) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 69) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 67) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:26')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:40:26')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 70) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 71) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 71 THEN 70 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 70) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 71) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:40:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 70) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 72) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 72 THEN 70 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 70) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 72) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 70) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 70)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:26')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:40:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 73) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 74) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 74 THEN 73 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 73) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 74) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:40:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 73) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 75) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 75 THEN 73 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 73) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 75) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 73) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 73) ORDER BY `lft`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:40:26')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:40:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 76) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 77) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 77 THEN 76 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 76) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 77) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:40:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 76) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 78) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 78 THEN 76 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 76) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 78) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 76) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 77) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'The physics of gravity.', 7, 'Gravity', 77, 8, '2010-08-11 17:40:26')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 77) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 79) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 79 THEN 77 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 77) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 79) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 77) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:40:26', 'The physics of thermodynamics.', 9, 'Thermodynamics', 77, 10, '2010-08-11 17:40:26')[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 77) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 80) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 80 THEN 77 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 77) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 80) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 77)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 77)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 77)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 76)
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 76) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  describe `resources`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 17:40:26', 'description', 'english', 'notes', 'title', '2010-08-11 17:40:26', 'http://www.url.com')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (35.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811083909)
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:04')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 81) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:04')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:04')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:41:04')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 83) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 84) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 84 THEN 83 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 83) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 84) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:41:04')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 83) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 85) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 85 THEN 83 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 83) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 85) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 83) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:04')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:41:04')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 86) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 87) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 87 THEN 86 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 86) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 87) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:41:04')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 86) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 88) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 88 THEN 86 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 86) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 88) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 86) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 86)
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:04')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:41:04')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 89) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 90) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 90 THEN 89 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 89) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 90) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:41:04')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 89) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 91) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 91 THEN 89 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 89) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 91) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 89) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 89) ORDER BY `lft`
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:04')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:41:04')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 92) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 93) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 93 THEN 92 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 92) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 93) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:41:04')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 92) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 94) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 94 THEN 92 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 92) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 94) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 92) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 93) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'The physics of gravity.', 7, 'Gravity', 93, 8, '2010-08-11 17:41:04')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 93) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 95) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 95 THEN 93 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 93) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 95) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 93) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:04', 'The physics of thermodynamics.', 9, 'Thermodynamics', 93, 10, '2010-08-11 17:41:04')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 93) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 96) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 96 THEN 93 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 93) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 96) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 93)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 93)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 93)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 92)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 92) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  describe `resources`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 17:41:04', 'description', 'english', 'notes', 'title', '2010-08-11 17:41:04', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (37.4ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811083909)
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:26')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 97) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:26')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:26')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:41:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 99) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 100) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 100 THEN 99 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 99) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 100) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:41:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 99) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 101) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 101 THEN 99 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 99) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 101) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 99) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:26')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:41:26')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 102) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 103) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 103 THEN 102 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 102) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 103) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:41:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 102) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 104) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 104 THEN 102 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 102) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 104) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 102) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 102)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:26')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:41:26')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 105) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 106) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 106 THEN 105 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 105) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 106) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:41:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 105) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 107) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 107 THEN 105 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 105) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 107) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 105) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 105) ORDER BY `lft`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:41:26')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:26', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:41:26')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 108) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 109) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 109 THEN 108 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 108) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 109) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:27', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:41:27')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 108) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 110) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 110 THEN 108 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 108) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 110) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 108) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 109) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:27', 'The physics of gravity.', 7, 'Gravity', 109, 8, '2010-08-11 17:41:27')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 109) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 111) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 111 THEN 109 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 109) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 111) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 109) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:41:27', 'The physics of thermodynamics.', 9, 'Thermodynamics', 109, 10, '2010-08-11 17:41:27')[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 109) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 112) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 112 THEN 109 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 109) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 112) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 109)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 109)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 109)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 108)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 108) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  describe `resources`
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 17:41:27', 'description', 'english', 'notes', 'title', '2010-08-11 17:41:27', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811083909)
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.1ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:17', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:43:17')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 113) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:43:18')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:43:18')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:43:18')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 115) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 116) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 116 THEN 115 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 115) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 116) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:43:18')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 115) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 117) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 117 THEN 115 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 115) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 117) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 115) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:43:18')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:43:18')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 118) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 119) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 119 THEN 118 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 118) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 119) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:43:18')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 118) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 120) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 120 THEN 118 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 118) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 120) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 118) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 118)
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:43:18')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:43:18')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 121) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 122) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 122 THEN 121 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 121) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 122) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:43:18')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 121) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 123) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 123 THEN 121 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 121) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 123) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 121) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 121) ORDER BY `lft`
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-11 17:43:18')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-11 17:43:18')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 124) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 125) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 125 THEN 124 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 124) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 125) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-11 17:43:18')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 124) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 126) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 126 THEN 124 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 124) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 126) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 124) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 125) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'The physics of gravity.', 7, 'Gravity', 125, 8, '2010-08-11 17:43:18')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 125) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 127) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 127 THEN 125 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 125) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 127) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 125) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-11 17:43:18', 'The physics of thermodynamics.', 9, 'Thermodynamics', 125, 10, '2010-08-11 17:43:18')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 125) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 128) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 128 THEN 125 ELSE `parent_id` END 
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 125) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 128) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 125)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 125)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 125)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 124)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 124) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  describe `resources`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-11 17:43:18', 'description', 'english', 'notes', 'title', '2010-08-11 17:43:18', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (7.9ms)[0m  [1mSHOW TABLES[0m
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (1.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to ResorcerTotalMigrations (20100811083909)
Migrating to ActsAsTaggableOnMigration (20100812075848)
  [1m[35mSQL (21.1ms)[0m  CREATE TABLE `tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255)) ENGINE=InnoDB
  [1m[36mSQL (2.5ms)[0m  [1mCREATE TABLE `taggings` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `tag_id` int(11), `taggable_id` int(11), `taggable_type` varchar(255), `tagger_id` int(11), `tagger_type` varchar(255), `context` varchar(255), `created_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `taggings`
  [1m[36mSQL (26.8ms)[0m  [1mCREATE INDEX `index_taggings_on_tag_id` ON `taggings` (`tag_id`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `taggings`
  [1m[36mSQL (14.1ms)[0m  [1mCREATE INDEX `index_taggings_on_taggable_id_and_taggable_type_and_context` ON `taggings` (`taggable_id`, `taggable_type`, `context`)[0m
  [1m[35mSQL (1.6ms)[0m  describe `schema_migrations`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100812075848')[0m
  [1m[35mSQL (29.9ms)[0m  DELETE FROM `categories`
WARNING: Can't mass-assign protected attributes: lft, rgt
  [1m[36mCategory Load (1.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'valid category') AND (`categories`.`parent_id` = 0) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `categories`
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` IS NULL) AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-12 08:04:12')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-12 08:04:12')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-12 08:04:12')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-12 08:04:12')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 3) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 4) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 4 THEN 3 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 3) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 4) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-12 08:04:12')
  [1m[36mSQL (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 3) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 5) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 5 THEN 3 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 3) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 5) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 3) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-12 08:04:12')[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-12 08:04:12')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 6) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 7) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 7 THEN 6 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 6) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 7) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-12 08:04:12')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 6) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 8) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 8 THEN 6 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 6) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 8) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 6) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 6)
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-12 08:04:12')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-12 08:04:12')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 9) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 10) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 10 THEN 9 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 9) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 10) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-12 08:04:12')
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 9) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 11) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 11 THEN 9 ELSE `parent_id` END [0m
  [1m[35mSQL (0.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 9) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 11) LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 9) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id`, `categories`.`name`, `categories`.`description`, `categories`.`parent_id`, `categories`.`lft`, `categories`.`rgt`, `categories`.`created_at`, `categories`.`updated_at` FROM `categories` WHERE (`categories`.parent_id = 9) ORDER BY `lft`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Science') AND (`categories`.`parent_id` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A top level category to hold all sub-categories of Science.', 1, 'Science', NULL, 2, '2010-08-12 08:04:12')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Physics') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A sub-category of Science.', 3, 'Physics', NULL, 4, '2010-08-12 08:04:12')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 13) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 2 AND 2 THEN `lft` + 4 - 2 WHEN `lft` BETWEEN 3 AND 4 THEN `lft` + 2 - 3 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 2 AND 2 THEN `rgt` + 4 - 2 WHEN `rgt` BETWEEN 3 AND 4 THEN `rgt` + 2 - 3 ELSE `rgt` END, `parent_id` = CASE WHEN id = 13 THEN 12 ELSE `parent_id` END [0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 13) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Biology') AND (`categories`.`parent_id` IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'A sub-category of Science.', 5, 'Biology', NULL, 6, '2010-08-12 08:04:12')
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 14) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 4 AND 4 THEN `lft` + 6 - 4 WHEN `lft` BETWEEN 5 AND 6 THEN `lft` + 4 - 5 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 4 AND 4 THEN `rgt` + 6 - 4 WHEN `rgt` BETWEEN 5 AND 6 THEN `rgt` + 4 - 5 ELSE `rgt` END, `parent_id` = CASE WHEN id = 14 THEN 12 ELSE `parent_id` END [0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 14) LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 12) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Gravity') AND (`categories`.`parent_id` = 13) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'The physics of gravity.', 7, 'Gravity', 13, 8, '2010-08-12 08:04:12')[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 13) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 15) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 3 AND 6 THEN `lft` + 8 - 6 WHEN `lft` BETWEEN 7 AND 8 THEN `lft` + 3 - 7 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 3 AND 6 THEN `rgt` + 8 - 6 WHEN `rgt` BETWEEN 7 AND 8 THEN `rgt` + 3 - 7 ELSE `rgt` END, `parent_id` = CASE WHEN id = 15 THEN 13 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 13) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 15) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.`id` FROM `categories` WHERE (`categories`.`name` = BINARY 'Thermodynamics') AND (`categories`.`parent_id` = 13) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT MAX(`categories`.`rgt`) AS max_id FROM `categories`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `description`, `lft`, `name`, `parent_id`, `rgt`, `updated_at`) VALUES ('2010-08-12 08:04:12', 'The physics of thermodynamics.', 9, 'Thermodynamics', 13, 10, '2010-08-12 08:04:12')[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE (`categories`.`id` = 13) ORDER BY `lft` LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 16) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `categories` SET `lft` = CASE WHEN `lft` BETWEEN 5 AND 8 THEN `lft` + 10 - 8 WHEN `lft` BETWEEN 9 AND 10 THEN `lft` + 5 - 9 ELSE `lft` END, `rgt` = CASE WHEN `rgt` BETWEEN 5 AND 8 THEN `rgt` + 10 - 8 WHEN `rgt` BETWEEN 9 AND 10 THEN `rgt` + 5 - 9 ELSE `rgt` END, `parent_id` = CASE WHEN id = 16 THEN 13 ELSE `parent_id` END 
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 13) LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `lft`, `rgt`, `parent_id` FROM `categories` WHERE (`categories`.`id` = 16) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` <= 2 AND `categories`.`rgt` >= 3) AND (`categories`.id != 13)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.parent_id = 13)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`parent_id` = 13)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 12)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) AS count_id FROM `categories` WHERE (`categories`.`lft` >= 1 AND `categories`.`rgt` <= 10) AND (`categories`.id != 12) AND (`categories`.`rgt` - `categories`.`lft` = 1)
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  describe `resources`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `resources` (`author`, `content_type`, `created_at`, `description`, `language`, `notes`, `title`, `updated_at`, `url`) VALUES ('An Author', 'text/html', '2010-08-12 08:04:12', 'description', 'english', 'notes', 'title', '2010-08-12 08:04:12', 'http://www.url.com')[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
